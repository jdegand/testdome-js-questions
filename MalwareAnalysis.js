function simulate(entries) {
  // need to copy array - otherwise you'll get
  // [19,0,0,87,0,0,0,77,77,77,0]

  let arr = [...entries];
  for(let i = 0; i < entries.length; i++){
    if (entries[i-3] !== undefined && entries[i+4] !== undefined){
      if(entries[i] <= entries[i-3] || entries[i] <= entries[i+4]){
        arr[i] = 0;
      }
    } else if(entries[i-3] === undefined && entries[i] <= entries[i+4]){
      arr[i] = 0; 
    } else if(entries[i+4] === undefined && entries[i] <= entries[i-3]){
      arr[i] = 0; 
    }
  }
  
  return arr;
}

const records = [19, 2, 0, 87, 1, 40, 80, 77, 77, 77, 77];
console.log(simulate(records));
// Expected output
// [19, 0, 0, 87, 0, 0, 0, 77, 77, 0, 0]
